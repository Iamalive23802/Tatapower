<p-toast></p-toast>

<!-- Shift Info -->
<div style="margin-bottom: 1rem; padding: 0.5rem; background-color: #eff6ff; border: 1px solid #bfdbfe; border-radius: 0.375rem; font-size: 0.85rem; color: #1e40af;">
  <strong>Shift Information</strong><br />
  Shift Date: {{ shiftDate | date: 'dd/MM/yyyy' }}<br />
  Shift Name: {{ shiftName }}
</div>

<!-- BFP Unit 1 & 2 -->
<p-panel header="BFP Unit 1 & 2" [toggleable]="true" [collapsed]="true" [iconPos]="'start'">
  <table class="min-w-full text-xs border border-gray-300 border-collapse shadow">
    <thead class="bg-gray-100 font-semibold text-gray-800">
      <tr>
        <th class="border p-2 text-center">Parameter</th>
        <th class="border p-2 text-center">Unit</th>
        <th class="border p-2 text-center">BFP1A</th>
        <th class="border p-2 text-center">BFP1B</th>
        <th class="border p-2 text-center">BFP1C</th>
        <th class="border p-2 text-center">BFP2A</th>
        <th class="border p-2 text-center">BFP2B</th>
        <th class="border p-2 text-center">BFP2C</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let row of bfpUnit1and2Arr">
        <td class="border p-2">{{ row.parameter }}</td>
        <td class="border p-2 text-center">{{ row.unit }}</td>
        <td class="border p-1"><input [(ngModel)]="bopObj[row.bfp1a]" class="w-full text-xs p-1 border rounded" /></td>
        <td class="border p-1"><input [(ngModel)]="bopObj[row.bfp1b]" class="w-full text-xs p-1 border rounded" /></td>
        <td class="border p-1"><input [(ngModel)]="bopObj[row.bfp1c]" class="w-full text-xs p-1 border rounded" /></td>
        <td class="border p-1"><input [(ngModel)]="bopObj[row.bfp2a]" class="w-full text-xs p-1 border rounded" /></td>
        <td class="border p-1"><input [(ngModel)]="bopObj[row.bfp2b]" class="w-full text-xs p-1 border rounded" /></td>
        <td class="border p-1"><input [(ngModel)]="bopObj[row.bfp2c]" class="w-full text-xs p-1 border rounded" /></td>
      </tr>
    </tbody>
  </table>
</p-panel>

<!-- BFP Unit 3 -->
<p-panel header="BFP Unit 3" [toggleable]="true" [collapsed]="true" class="mt-4" [iconPos]="'start'">
  <table class="min-w-full text-xs border border-gray-300 border-collapse shadow">
    <thead class="bg-gray-100 font-semibold text-gray-800">
      <tr>
        <th class="border p-2 text-center">Parameter</th>
        <th class="border p-2 text-center">Unit</th>
          <th class="border p-2 text-center">BFP3A</th>
          <th class="border p-2 text-center">BFP3B</th>
          <th class="border p-2 text-center">BFP3C</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let row of bfpUnit3Arr">
        <td class="border p-2">{{ row.parameter }}</td>
        <td class="border p-2 text-center">{{ row.unit }}</td>
          <td class="border p-1"><input [(ngModel)]="bopObj[row.bfp3a]" class="w-full text-xs p-1 border rounded" /></td>
          <td class="border p-1"><input [(ngModel)]="bopObj[row.bfp3b]" class="w-full text-xs p-1 border rounded" /></td>
          <td class="border p-1"><input [(ngModel)]="bopObj[row.bfp3c]" class="w-full text-xs p-1 border rounded" /></td>
      </tr>
    </tbody>
  </table>
</p-panel>

<!-- ACW -->
<p-panel header="ACW Unit 1,2&3" [toggleable]="true" [collapsed]="true" [iconPos]="'start'" class="mt-4">
  <table class="min-w-full text-xs border border-gray-300 border-collapse shadow">
    <thead class="bg-gray-100 font-semibold text-gray-800">
      <tr>
        <th class="border p-2">Parameter</th>
        <th class="border p-2">Unit</th>
        <th class="border p-2">ACW1A</th>
        <th class="border p-2">ACW1B</th>
        <th class="border p-2">ACW2A</th>
        <th class="border p-2">ACW2B</th>
        <th class="border p-2">ACW3A</th>
        <th class="border p-2">ACW3B</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let row of acwArr">
        <td class="border p-2">{{ row.parameter }}</td>
        <td class="border p-2">{{ row.unit }}</td>
        <td class="border p-1"><input [(ngModel)]="row.acw1a" type="number" class="w-full text-xs p-1 border rounded" /></td>
        <td class="border p-1"><input [(ngModel)]="row.acw1b" type="number" class="w-full text-xs p-1 border rounded" /></td>
        <td class="border p-1"><input [(ngModel)]="row.acw2a" type="number" class="w-full text-xs p-1 border rounded" /></td>
        <td class="border p-1"><input [(ngModel)]="row.acw2b" type="number" class="w-full text-xs p-1 border rounded" /></td>
        <td class="border p-1"><input [(ngModel)]="row.acw3a" type="number" class="w-full text-xs p-1 border rounded" /></td>
        <td class="border p-1"><input [(ngModel)]="row.acw3b" type="number" class="w-full text-xs p-1 border rounded" /></td>
      </tr>
    </tbody>
  </table>
</p-panel>

<!-- CWP -->
<p-panel header="CWP" [toggleable]="true" [collapsed]="true" [iconPos]="'start'" class="mt-4">
  <table class="min-w-full text-xs border border-gray-300 border-collapse shadow">
    <thead class="bg-gray-100 font-semibold text-gray-800">
      <tr>
        <th class="border p-2">Parameter</th>
        <th class="border p-2">Unit</th>
        <th class="border p-2">CWPA</th>
        <th class="border p-2">CWPB</th>
        <th class="border p-2">CWPC</th>
        <th class="border p-2">CWPD</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let row of cwpArr">
        <td class="border p-2">{{ row.parameter }}</td>
        <td class="border p-2">{{ row.unit }}</td>
        <td class="border p-1"><input [(ngModel)]="row.cwpa" type="number" class="w-full text-xs p-1 border rounded" /></td>
        <td class="border p-1"><input [(ngModel)]="row.cwpb" type="number" class="w-full text-xs p-1 border rounded" /></td>
        <td class="border p-1"><input [(ngModel)]="row.cwpc" type="number" class="w-full text-xs p-1 border rounded" /></td>
        <td class="border p-1"><input [(ngModel)]="row.cwpd" type="number" class="w-full text-xs p-1 border rounded" /></td>
      </tr>
    </tbody>
  </table>
</p-panel>

<!-- CT Fans Status -->
<p-panel header="CT Fans Status" [toggleable]="true" [collapsed]="true" [iconPos]="'start'" class="mt-4">
  <table class="min-w-full text-xs border border-gray-300 border-collapse shadow">
    <thead class="bg-gray-100 font-semibold text-gray-800">
      <tr>
        <th class="border p-2">Name</th>
        <th class="border p-2">Unit</th>
        <th class="border p-2">Status</th>
        <th class="border p-2">Current</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let fan of ctfansArr">
        <td class="border p-2">{{ fan.name }}</td>
        <td class="border p-2 text-center">{{ fan.unit }}</td>
        <td class="border p-1">
          <p-dropdown [options]="statusOptions" [(ngModel)]="fan.status" placeholder="Select"></p-dropdown>
        </td>
        <td class="border p-1"><input [(ngModel)]="fan.current" type="number" class="w-full text-xs p-1 border rounded" /></td>
      </tr>
    </tbody>
  </table>
</p-panel>

<!-- Valve Positions -->
<p-panel header="Valve Positions" [toggleable]="true" [collapsed]="true" [iconPos]="'start'" class="mt-4">
  <table class="min-w-full text-xs border border-gray-300 border-collapse shadow">
    <thead class="bg-gray-100 font-semibold text-gray-800">
      <tr>
        <th class="border p-2">Name</th>
        <th class="border p-2">Unit</th>
        <th class="border p-2">LHS</th>
        <th class="border p-2">RHS</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let fan of ctfansArr">
        <td class="border p-2">{{ fan.name }}</td>
        <td class="border p-2 text-center">{{ fan.unit }}</td>
        <td class="border p-1"><input [(ngModel)]="fan.lhs" type="number" class="w-full text-xs p-1 border rounded" /></td>
        <td class="border p-1"><input [(ngModel)]="fan.rhs" type="number" class="w-full text-xs p-1 border rounded" /></td>
      </tr>
    </tbody>
  </table>
</p-panel>

<!-- Conductivity -->
<p-panel header="Conductivity Parameters" [toggleable]="true" [collapsed]="true" [iconPos]="'start'" class="mt-4">
  <table class="min-w-full text-xs border border-gray-300 border-collapse shadow">
    <thead class="bg-gray-100 font-semibold text-gray-800">
      <tr>
        <th class="border p-2">Parameter</th>
        <th class="border p-2">Limit</th>
        <th class="border p-2">Unit 1</th>
        <th class="border p-2">Unit 2</th>
        <th class="border p-2">Unit 3</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let row of conductivityArr">
        <td class="border p-2">{{ row.parameter }}</td>
        <td class="border p-2 text-center">{{ row.limit }}</td>
        <td class="border p-1"><input [(ngModel)]="row.unit1" type="number" class="w-full text-xs p-1 border rounded" /></td>
        <td class="border p-1"><input [(ngModel)]="row.unit2" type="number" class="w-full text-xs p-1 border rounded" /></td>
        <td class="border p-1"><input [(ngModel)]="row.unit3" type="number" class="w-full text-xs p-1 border rounded" /></td>
      </tr>
    </tbody>
  </table>
</p-panel>

<!-- Room Temperatures & Tank Levels -->
<p-panel header="Tank Levels & Room Temperatures" [toggleable]="true" [collapsed]="true" [iconPos]="'start'" class="mt-4">
  <table class="min-w-full text-xs border border-gray-300 border-collapse shadow">
    <thead class="bg-gray-100 font-semibold text-gray-800">
      <tr>
        <th class="border p-2">Name</th>
        <th class="border p-2">Reading</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let row of roomTempsArr">
        <td class="border p-2">{{ row.name }}</td>
        <td class="border p-1"><input [(ngModel)]="row.temp" type="number" class="w-full text-xs p-1 border rounded" /></td>
      </tr>
    </tbody>
  </table>
</p-panel>

<!-- Save Button -->
<div class="mt-4 text-center">
  <button pButton type="button" label="Save" class="p-button-success" (click)="insertFunc()"></button>
</div>
